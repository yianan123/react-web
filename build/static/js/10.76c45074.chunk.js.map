{"version":3,"sources":["view/contentWrap/component lazy /^/.*$/ groupOptions: {} namespace object","components/IframeWrap.js","view/contentWrap/index.js","view/contentWrap/contConfig.js"],"names":["map","./NewsCar","./NewsCar.js","./NewsEntertainment","./NewsEntertainment.js","./NewsHot","./NewsHot.js","./NewsMilitary","./NewsMilitary.js","./NewsSociety","./NewsSociety.js","./NewsTech","./NewsTech.js","./QuestionAndAnswer","./QuestionAndAnswer.js","./Video","./Video.js","./style.scss","webpackAsyncContext","req","ids","__webpack_require__","e","then","id","t","Promise","resolve","Error","code","keys","Object","module","exports","Iframe","props","_this","classCallCheck","this","possibleConstructorReturn","getPrototypeOf","call","iframeRef","React","createRef","state","console","log","toast_default","a","loading","current","onload","hide","dom","document","getElementById","_this$props","url","show","clickFun","c","react_default","createElement","className","title","src","ref","frameBorder","scrolling","button_default","type","size","onClick","ReactDOM","createPortal","Component","ContentWrap","refreshing","down","height","documentElement","clientHeight","touchStartY","data","showIframe","showUrl","deviceId","parseInt","Math","random","setState","getData","info","length","concat","category","fetchJsonp","res","json","result","JSON","parse","content","targetTouches","clientY","stopPropagation","y","name","replace","$0","$1","toUpperCase","substring","_this2","toHump","RenderComponents","allComponent","Fragment","pull_to_refresh_default","onTouchStart","handleStart","bind","onTouchMove","handleMove","el","ptr","damping","style","position","overflow","direction","onRefresh","handlerRefesh","dataList","showDetailInfo","IframeWrap","hideDetailInfo","r","__webpack_exports__","_router_ansycComponent_js__WEBPACK_IMPORTED_MODULE_0__","o","forEach","file","asyncComponent"],"mappings":"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","file":"static/js/10.76c45074.chunk.js","sourcesContent":["var map = {\n\t\"./NewsCar\": [\n\t\t83,\n\t\t9,\n\t\t2\n\t],\n\t\"./NewsCar.js\": [\n\t\t83,\n\t\t9,\n\t\t2\n\t],\n\t\"./NewsEntertainment\": [\n\t\t84,\n\t\t9,\n\t\t3\n\t],\n\t\"./NewsEntertainment.js\": [\n\t\t84,\n\t\t9,\n\t\t3\n\t],\n\t\"./NewsHot\": [\n\t\t85,\n\t\t9,\n\t\t4\n\t],\n\t\"./NewsHot.js\": [\n\t\t85,\n\t\t9,\n\t\t4\n\t],\n\t\"./NewsMilitary\": [\n\t\t86,\n\t\t9,\n\t\t5\n\t],\n\t\"./NewsMilitary.js\": [\n\t\t86,\n\t\t9,\n\t\t5\n\t],\n\t\"./NewsSociety\": [\n\t\t87,\n\t\t9,\n\t\t6\n\t],\n\t\"./NewsSociety.js\": [\n\t\t87,\n\t\t9,\n\t\t6\n\t],\n\t\"./NewsTech\": [\n\t\t88,\n\t\t9,\n\t\t7\n\t],\n\t\"./NewsTech.js\": [\n\t\t88,\n\t\t9,\n\t\t7\n\t],\n\t\"./QuestionAndAnswer\": [\n\t\t89,\n\t\t9,\n\t\t8\n\t],\n\t\"./QuestionAndAnswer.js\": [\n\t\t89,\n\t\t9,\n\t\t8\n\t],\n\t\"./Video\": [\n\t\t90,\n\t\t9,\n\t\t9\n\t],\n\t\"./Video.js\": [\n\t\t90,\n\t\t9,\n\t\t9\n\t],\n\t\"./style.scss\": [\n\t\t176,\n\t\t7,\n\t\t13\n\t]\n};\nfunction webpackAsyncContext(req) {\n\tvar ids = map[req];\n\tif(!ids) {\n\t\treturn Promise.resolve().then(function() {\n\t\t\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\t\t\te.code = 'MODULE_NOT_FOUND';\n\t\t\tthrow e;\n\t\t});\n\t}\n\treturn __webpack_require__.e(ids[2]).then(function() {\n\t\tvar id = ids[0];\n\t\treturn __webpack_require__.t(id, ids[1])\n\t});\n}\nwebpackAsyncContext.keys = function webpackAsyncContextKeys() {\n\treturn Object.keys(map);\n};\nwebpackAsyncContext.id = 185;\nmodule.exports = webpackAsyncContext;","import React from 'react'\r\nimport PropTypes from 'prop-types'\r\nimport ReactDOM from 'react-dom'\r\nimport {Button,Toast} from 'antd-mobile'\r\nimport './iframe.scss'\r\n\r\nclass Iframe extends React.Component{\r\n    constructor(props){\r\n        super(props)\r\n        this.iframeRef = React.createRef();\r\n        this.state ={\r\n        }                  \r\n    }\r\n    componentDidMount(){\r\n        console.log( this.iframeRef )\r\n        Toast.loading('加载中', 6, null, true)\r\n        this.iframeRef.current.onload=function(){\r\n            Toast.hide()\r\n        }\r\n    }\r\n    render(){\r\n        let dom = document.getElementById('newsContent')\r\n        let {url,show,clickFun} = this.props\r\n        console.log(url,show)\r\n        let c = (\r\n            <div className='iframe-content' >\r\n                <iframe title='ff' src={url}  ref={this.iframeRef}  frameBorder=\"0\" scrolling=\"auto\"></iframe>\r\n                <div className='header'>\r\n                    <div className='btn'>\r\n                         <Button type=\"primary\" size='small' onClick={()=>clickFun()} >关闭</Button>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        )\r\n        return ReactDOM.createPortal(\r\n            show?c:null,\r\n            dom\r\n        )\r\n    }\r\n\r\n}\r\nIframe.propTypes ={\r\n    url:PropTypes.string,\r\n    show:PropTypes.bool\r\n}\r\nexport default Iframe","import React from 'react'\r\nimport allComponent from './contConfig'\r\nimport {PullToRefresh,Toast} from 'antd-mobile'\r\nimport fetchJsonp from 'fetch-jsonp'\r\nimport IframeWrap from '../../components/IframeWrap'\r\nclass ContentWrap extends React.Component{\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      refreshing: false,\r\n      down: true,\r\n      height: document.documentElement.clientHeight-100,\r\n      touchStartY:0, //记录初始的\r\n      data: [],\r\n      showIframe:false,\r\n      showUrl:'',\r\n      deviceId:\"15365673\"+ parseInt(Math.random()*10000)\r\n    };\r\n  }\r\n  async handlerRefesh(){\r\n    this.setState({ refreshing: true })\r\n    let t = await this.getData()\r\n    Toast.info(t.length > 0 ? `已更新${t.length}条数据` : '无数据', 1, null, false);\r\n    if(this.state.down){\r\n      this.setState({ refreshing: false,data:t.concat(this.state.data)})\r\n    }else{\r\n      this.setState({ refreshing: false,data:this.state.data.concat(t)})\r\n    }\r\n  }\r\n  async getData(){\r\n    Toast.loading(`加载中`,3)\r\n    let url = `http://is.snssdk.com/api/news/feed/v51/?category=${this.props.category}&device_id=${this.state.deviceId}&&tt_from=pull`\r\n    let res = await fetchJsonp(url)\r\n    let result = await res.json()\r\n    let t = result.data.map(e=>(JSON.parse(e.content)))\r\n    Toast.hide({showIframe:123})\r\n    return t\r\n  }\r\n  handleStart(e) {\r\n    this.setState({\r\n      touchStartY: e.targetTouches[0].clientY\r\n    })\r\n    e.stopPropagation();\r\n  }\r\n  handleMove(e) {\r\n    let y = e.targetTouches[0].clientY\r\n    this.setState({\r\n      down: y - this.state.touchStartY >= 0\r\n    })\r\n  }\r\n  async componentDidMount() {\r\n    if(this.state.data.length===0){\r\n      let t = await this.getData()\r\n      this.setState({\r\n        data: t.concat(this.state.data),\r\n      })\r\n    }\r\n  }\r\n  showDetailInfo(url){\r\n    this.setState({showIframe:true,showUrl:url})\r\n  }\r\n  hideDetailInfo(){\r\n    this.setState({showIframe:false,showUrl:''})\r\n  }\r\n  toHump(name) {\r\n    var re = /_(\\w)/g;\r\n    let t = name.replace(re, function ($0, $1) {\r\n      return $1.toUpperCase();\r\n    })\r\n    return t.substring(0, 1).toUpperCase() + t.substring(1);\r\n  }\r\n  render(){\r\n    let name = this.toHump(this.props.category)\r\n    let RenderComponents = allComponent[name]\r\n    return(\r\n      <>          \r\n          <PullToRefresh\r\n            onTouchStart={this.handleStart.bind(this)}\r\n            onTouchMove={this.handleMove.bind(this)}\r\n            ref={el => this.ptr = el}\r\n            damping={90}\r\n            style={{position: 'relative', overflow: 'auto', height: this.state.height}}\r\n            direction={this.state.down ? 'down' : 'up'}\r\n            refreshing={this.state.refreshing}\r\n            onRefresh={this.handlerRefesh.bind(this)}>\r\n              <RenderComponents dataList = {this.state.data} show={this.state.down} clickFun={this.showDetailInfo.bind(this)} />\r\n          </PullToRefresh >\r\n        {this.state.showIframe&&<IframeWrap clickFun={this.hideDetailInfo.bind(this)}   show ={this.state.showIframe} url={this.state.showUrl}/>}\r\n      </>\r\n    )\r\n  }  \r\n}\r\nexport default ContentWrap;","import asyncComponent from  '../../router/ansycComponent.js'\r\nconst _import_views = file => asyncComponent(() => import(`./component/${file}`),false)\r\nlet t =['NewsHot','NewsCar','NewsEntertainment','NewsSociety','NewsTech','QuestionAndAnswer','Video','NewsMilitary']\r\nlet o ={}\r\nt.forEach(e=>{\r\n    o[e] = _import_views(e)\r\n})\r\nexport default o "],"sourceRoot":""}